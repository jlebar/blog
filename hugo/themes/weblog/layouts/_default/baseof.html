<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">

<head>
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

  <meta charset="UTF-8">
  <meta name="language" content="en-us">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  {{- $scssopts := (dict) -}}
  {{- if .Site.IsServer -}}
    {{ $scssopts = (dict "outputStyle" "nested" "enableSourceMap" true) }}
  {{- else -}}
    {{ $scssopts = (dict "outputStyle" "compressed" "enableSourceMap" false) }}
  {{- end -}}
  {{ $style := resources.Get "scss/main.scss" | resources.ToCSS $scssopts | fingerprint }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity | safeHTMLAttr }}" />

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha256-E4RlfxwyJVmkkk0szw7LYJxuPlp6evtPSBDlWHsYYL8=" crossorigin="anonymous"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add("main h2, main h3, main h4");
    });
  </script>

  <!--<script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-core.min.js" integrity="sha256-9h14mWYYiQGkeAKg2JtijbqApb56kgw57WN6sI6dwH0=" crossorigin="anonymous"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-clike.min.js" integrity="sha256-NGZ9KsF4gzg5+s/GJCF+iTIxrL1MMo1Cz1iMIPMwnCE=" crossorigin="anonymous"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-c.min.js" integrity="sha256-7bhB6muzOsleE++vCiHNmfoJr6rN5xct1k2ONF4LI44=" crossorigin="anonymous"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-cpp.min.js" integrity="sha256-FpxvZgQoLQgwXbHhrAj0vSNp8py8Q+VeBMN6V4TxguI=" crossorigin="anonymous"></script>-->

  <script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-chtml.js" integrity="sha256-XIXoRLPpvqxWRZiFmSYB0zGoUnsolpyHjMXToWk4AdI=" crossorigin="anonymous"></script>

  {{- if not .Site.IsServer -}}
      {{ template "_internal/google_analytics_async.html" . }}
  {{- end -}}
</head>

<body>
  <header>
    <h1><a href={{ .Site.BaseURL }}>{{ .Site.Title }}</a></h1>
    <h2>{{ .Site.Params.Subtitle }}</h2>
  </header>

  <main>
    {{ block "main" . }} {{ end }}
  </main>

  <footer>
    <a href="https://github.com/jlebar/blog">Made with love</a> with <a href="https://gohugo.io/">Hugo</a>
  </footer>
</body>

</html>
